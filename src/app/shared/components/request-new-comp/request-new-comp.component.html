<div class="popUp request-new-component">
  <div class="ac-loader" *ngIf="showLoader">
    <mat-spinner [diameter]="40"></mat-spinner>
  </div>
  <div class="title">
    <span>Request New Component</span>
    <div class="close-button" (click)="close()">
      <span><img src="assets/images/Shape.png" /></span>
    </div>
  </div>
  <div class="validForm">
    <form [formGroup]="requestNewComponent" autocomplete="off">
      <div class="reqComponent">
        <div class="groupName">
          <mat-form-field class="select-group" appearance="outline">
            <mat-label class="matLable">Select Category</mat-label>
            <mat-select formControlName="categoryId" [(value)]="selectedCategory">
              <mat-option *ngFor="let group of groups" [value]="group">{{group.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="otherName">
          <label [class.disableColor]="disableField">Other Category Name</label>
          <input type="text" formControlName="otherCategoryName" class="otherGrp" [class.otherGrpName]="disableField">
        </div>
        <div class="componentName">
          <label>Component Name</label>
          <input type="text" formControlName="componentName" class="compName">
        </div>
        <div class="attribute">
          <div>
            <ng-container *ngFor="let attr of attributeFormGroups">
              <div class="attributeFields field-split" >
                <div class="attributeName" [formGroup]="attr">
                  <label>Attribute Name</label>
                  <input type="text" formControlName="name" class="attrName">
                </div>
                <div class="attributeValue" [formGroup]="attr">
                  <label>Attribute Value</label>
                  <input type="text" formControlName="value" class="attrVal">
                </div>
              </div>
            </ng-container>
          </div>
          
          
          <div class="flex-cont">
            <div class="addButton"> <div class="fab-icon" (click)="addAttributes()">
              <!-- <mat-icon [inline]="true">add</mat-icon> -->
              <img src="assets/images/add.svg" />
            </div>

          </div>
          <div class="delButton" *ngIf="attributes.length > 1">
            <button  mat-icon-button class="delete-icon fab-icon" (click)="deleteAttrVal()" color="primary">
              <span class="material-icons-outlined">delete_outline</span>
            </button>
          </div>
          </div>
          
        </div>

        <div class="preferred">
          <div>
            <ng-container *ngFor="let prefVal of preferredManufacturerGroup">
              <div class="preferredFields field-split" >
                <div class="preferedValue" [formGroup]="prefVal">
                  <label>Preferred Manufacturer</label>
                  <input type="text" formControlName="preferredName" class="preferrVal">
    
                </div>
              </div>
            </ng-container>
          </div>
          
          <div class="flex-cont">
            <div class="fab-icon pref-icon-add" (click)="addPreferredManuf()">
              <!-- <mat-icon [inline]="true">add</mat-icon> -->
              <img src="assets/images/add.svg" />
            </div>
            <button *ngIf="preferredManufacturers.length > 1"  mat-icon-button class="fab-icon pref-icon-del" (click)="deleteprefVal()" color="primary">
              <span class="material-icons-outlined">delete_outline</span>
            </button>
          </div>

        </div>
        <div class="images">
          <label class="uploadImg">Add Image
            <input type="file" class="inpFile" (change)="uploadedFile($event)">

            <!-- <mat-icon [inline]="true"  [class.add-icon-move]="imgValue" class="addIcon imgAdd">add</mat-icon> -->
            <img  [class.add-icon-move]="imgValue" class="addIcon imgAdd" src="assets/images/add.svg" />
          </label>
          <span *ngIf="imgValue">
            <input type="image" src="{{imgValue}}" alt="" formControlName="images" class="inputImg">
          </span>
          <button  mat-icon-button class="fab-icon img-delete-icon" *ngIf="imgValue" (click)="deleteImg()" color="primary">
            <span class="material-icons-outlined">delete_outline</span>
          </button>
        </div>
        <div class="remarks">
          <textarea  formControlName="remarks" class="inpRemarks" placeholder="Remarks"></textarea>
        </div>
      </div>
      <div class="edit-btn">
        <mat-dialog-actions align="end">
          <div class="footer-btn-wrap">
            <button mat-flat-button color="primary" [disabled]="!requestNewComponent.valid" class="submit-btn" (click)="onSubmit()">Submit</button>
          </div>
        </mat-dialog-actions>
      </div>
    </form>
  </div>

</div>