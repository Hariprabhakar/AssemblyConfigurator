
<div class="header create-template-wrap">
  <div class="create-hdr-wrap">
    <div class="header-lbl">Create Template</div>
    <div class="ac-input">
      <input type="text" [(ngModel)]="templateName" placeholder="Template Name" />
  </div>
  </div>
  <div class="sort-group">
    <div class="ac-input search">
      <input type="text" (keyup)="filterComponent($event)" placeholder="Search" />
      <div class="search-icon">
          <mat-icon [inline]="true">search</mat-icon>
      </div>
  </div>
  <div class="flex">
    <div class="select-lbl">Group:</div>
    <mat-form-field class="select-group fr" appearance="outline"  floatLabel="never">
      <!-- <mat-label class="matLable">Group</mat-label> -->
      <mat-select [(ngModel)]="selectedGroup" (selectionChange)="ongroupChange($event.value)">
        <mat-option *ngFor="let group of groups" [value]="group.name">{{ group.name }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="flex">
    <div class="select-lbl">Sort By:</div>
    <mat-form-field class="select-group fr" appearance="outline"  floatLabel="never">
      <mat-select [(ngModel)]="selectedSort" (selectionChange)="onSortChange($event.value)">
        <mat-option *ngFor="let sort of sortOptions" [value]="sort">{{ sort }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  </div>
  <div class="close-icon" (click)="close()">
    <span class="material-icons-outlined">
      close
      </span>
  </div>
</div>
<div class="template-table-container">

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)">
          </mat-checkbox>
        </td>
      </ng-container>
    
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef> Image </th>
        <td mat-cell *matCellDef="let element"> {{element.image}} </td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="asslemblyName">
        <th mat-header-cell *matHeaderCellDef> Assembly Name </th>
        <td mat-cell *matCellDef="let element"> {{element.asslemblyName}} </td>
      </ng-container>
    
      <ng-container matColumnDef="group">
        <th mat-header-cell *matHeaderCellDef> Group </th>
        <td mat-cell *matCellDef="let element"> {{element.group}} </td>
      </ng-container>
    
      <ng-container matColumnDef="system">
        <th mat-header-cell *matHeaderCellDef> System </th>
        <td mat-cell *matCellDef="let element"> {{element.system}} </td>
      </ng-container>

      <ng-container matColumnDef="connectionType">
        <th mat-header-cell *matHeaderCellDef> Connection Type </th>
        <td mat-cell *matCellDef="let element"> {{element.connectionType}} </td>
      </ng-container>

      <ng-container matColumnDef="latestUpdate">
        <th mat-header-cell *matHeaderCellDef> Latest Update </th>
        <td mat-cell *matCellDef="let element"> {{element.latestUpdate}} </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"
          [ngClass]="{highlighted: selection.isSelected(row)}" 
          (click)="selectRow(row)">
      </tr>
    </table>
</div>
<div class="footer">
  <div class="selected-info">
    <div class="assemblie-total">Total Assemblies: <span class="count">{{totalAssemblies}}</span></div>
    <div>Selected Assemblies:<span class="count">{{selection.selected.length}}</span></div>
  </div>
  <div class="action-btns">
    <div class="cancel-btn">
      <button class="secondary-btn" (click)="close()" mat-flat-button>Cancel</button>
    </div>
    <button mat-flat-button color="primary" [disabled]="validate()" (click)="create()" class="create-btn">Create</button>
  </div>
</div>